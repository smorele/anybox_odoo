!function(e,t){var i,n;function a(t,i){var n;"function"==typeof e.Event?n=new Event(i):(n=document.createEvent("Event")).initEvent(i,!0,!0),t.dispatchEvent(n)}function o(e){this.handlers={nativeVideo:new i(e),youtube:new n(e)},this.setting=e}function s(){}e.wp=e.wp||{},"addEventListener"in e&&(o.prototype={initialize:function(){if(this.supportsVideo())for(var e in this.handlers){var t=this.handlers[e];if("test"in t&&t.test(this.setting)){this.activeHandler=t.initialize.call(t,this.setting),a(document,"wp-custom-header-video-loaded");break}}},supportsVideo:function(){return!(e.innerWidth<this.setting.minWidth||e.innerHeight<this.setting.minHeight)},BaseVideoHandler:s},s.prototype={initialize:function(t){var i=this,n=document.createElement("button");this.setting=t,this.container=document.getElementById(""+this.setting.container).getElementsByClassName("wp-custom-header")[0],this.button=n,n.setAttribute("type","button"),n.setAttribute("id","wp-custom-header-video-button-"+this.setting.slide_id),n.setAttribute("class","wp-custom-header-video-button wp-custom-header-video-play"),n.innerHTML=this.setting.l10n.play,n.addEventListener("click",function(){i.isPaused()?i.play():i.pause()}),this.container.addEventListener("play",function(){n.className="wp-custom-header-video-button wp-custom-header-video-play",n.innerHTML=t.l10n.pause,"a11y"in e.wp&&e.wp.a11y.speak(t.l10n.playSpeak)}),this.container.addEventListener("pause",function(){n.className="wp-custom-header-video-button wp-custom-header-video-pause",n.innerHTML=t.l10n.play,"a11y"in e.wp&&e.wp.a11y.speak(t.l10n.pauseSpeak)}),this.ready()},ready:function(){},isPaused:function(){},pause:function(){},play:function(){},setVideo:function(e){var t,i=this.container.getElementsByClassName("customize-partial-edit-shortcut");i.length&&(t=this.container.removeChild(i[0])),this.container.innerHTML="",this.container.appendChild(e),t&&this.container.appendChild(t)},showControls:function(){this.container.contains(this.button)||this.container.appendChild(this.button)},test:function(){return!1},trigger:function(e){a(this.container,e)}},s.extend=function(e){var t;function i(){return s.apply(this,arguments)}i.prototype=Object.create(s.prototype),i.prototype.constructor=i;for(t in e)i.prototype[t]=e[t];return i},i=s.extend({test:function(e){return document.createElement("video").canPlayType(e.mimeType)},ready:function(){var e=this,t=document.createElement("video");t.id="wp-custom-header-video-"+this.setting.slide_id,t.class="wp-custom-header-video",t.autoplay="autoplay",t.loop="loop",t.muted="muted",t.width=this.setting.width,t.height=this.setting.height,t.addEventListener("play",function(){e.trigger("play")}),t.addEventListener("pause",function(){e.trigger("pause")}),t.addEventListener("canplay",function(){e.showControls()}),this.video=t,e.setVideo(t),t.src=this.setting.videoUrl},isPaused:function(){return this.video.paused},pause:function(){this.video.pause()},play:function(){this.video.play()}}),n=s.extend({test:function(e){return"video/x-youtube"===e.mimeType},ready:function(){var t=this;if("YT"in e)YT.ready(t.loadVideo.bind(t));else{var i=document.createElement("script");i.src="https://www.youtube.com/iframe_api",i.onload=function(){YT.ready(t.loadVideo.bind(t))},document.getElementsByTagName("head")[0].appendChild(i)}},loadVideo:function(){var e=this,t=document.createElement("div");t.id="wp-custom-header-video-"+this.setting.slide_id,e.setVideo(t),e.player=new YT.Player(t,{height:this.setting.height,width:this.setting.width,videoId:this.setting.videoUrl.match(/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*/)[1],events:{onReady:function(t){t.target.mute(),e.showControls()},onStateChange:function(t){YT.PlayerState.PLAYING===t.data?e.trigger("play"):YT.PlayerState.PAUSED===t.data?e.trigger("pause"):YT.PlayerState.ENDED===t.data&&t.target.playVideo()}},playerVars:{autoplay:1,controls:0,disablekb:1,fs:0,iv_load_policy:3,loop:1,modestbranding:1,playsinline:1,rel:0,showinfo:0}})},isPaused:function(){return YT.PlayerState.PAUSED===this.player.getPlayerState()},pause:function(){this.player.pauseVideo()},play:function(){this.player.playVideo()}}),jQuery.each(t,function(i,n){e.wp.sliderVideo=new o(n),document.addEventListener("DOMContentLoaded",e.wp.sliderVideo.initialize.bind(e.wp.sliderVideo),!1),"customize"in e.wp&&(e.wp.customize.selectiveRefresh.bind("render-partials-response",function(e){"custom_header_settings"in e&&(t=e.custom_header_settings)}),e.wp.customize.selectiveRefresh.bind("partial-content-rendered",function(t){"custom_header"===t.partial.id&&e.wp.sliderVideo.initialize()}))}))}(window,window._sliderVideoSettings||{});
