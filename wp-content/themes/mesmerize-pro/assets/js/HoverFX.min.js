!function(e){window.initHoverFX=function(t,i,r){var a,n,o,c,s,u,p;function g(t){return{width:"100%",height:Math.abs(parseFloat(e(t).outerHeight(!1)))}}n=e(".contentswap-effect"),p=!0,o=t,t.resizeEvent=!!r,function(t){e();n.each(function(){var t,i,r,n,f,b,l,d,h,m,v,y,k,w,x,z,C;if((t=e(this)).unbind(".hoverfx"),t.css({width:"",height:""}),i=function(t){s=e(t).attr("class"),u=s.split(" ");for(var i=0;i<=u.length;i++)for(var r in o)if(u[i]===r){c=r;break}return o?o[c]:a[c]}(t),r=function(t,i){var r;switch(i){case"overlay":r=e(t).find(".swap-inner");break;case"imageSwap":r=e(t).find(".second-image");break;case"caption":r=e(t).find(".swap-inner")}return r}(t,i.contentType),f=t.find(".initial-image"),n=t.find(".overlay"),i.overlayColor=r.css("background-color"),i.innerColor=r.css("background-color"),r.removeAttr("style"),n.removeAttr("style"),f.removeAttr("style"),v=t,y=(m=f).css("margin-left"),k=m.css("margin-right"),w=m.css("margin-top"),x=m.css("margin-bottom"),z=m.css("float"),m.css({float:"none","margin-left":"0px","margin-right":"0px","margin-top":"0px","margin-bottom":"0px"}),v.css({float:z,"margin-left":y,"margin-right":k,"margin-top":w,"margin-bottom":x}),g(t),d=function(e){var t,i="",r=!1;switch(e.toLowerCase()){case"easeinoutback":t="cubic-bezier(0.680, -0.550, 0.265, 1.550)",r="cubic-bezier(0.680, 0, 0.265, 1)";break;case"quick-in":t="cubic-bezier(0.315, -0.185, 0.000, 1.270)",r="cubic-bezier(0.315, 0, 0.000, 1)";break;case"accelerate":t="cubic-bezier(0.885, 0.420, 0.000, 1.270)",r="cubic-bezier(0.885, 0.420, 0.000, 1)";break;case"super-fast":t="cubic-bezier(0.000, 0.870, 0.000, 0.890)";break;case"ease-in-out-back":t="cubic-bezier(0.680, -0.550, 0.265, 1.550)",r="cubic-bezier(0.680, 0, 0.265, 1)";break;case"ease-in-out-expo":t="cubic-bezier(1.000, 0.000, 0.000, 1.000)";break;case"ease-out-back":t="cubic-bezier(0.175, 0.885, 0.320, 1.275)",r="cubic-bezier(0.175, 0.885, 0.320, 1)";break;case"ease-out-circ":t="cubic-bezier(0.075, 0.820, 0.165, 1.000)";break;case"ease-in-back":t="cubic-bezier(0.600, -0.280, 0.735, 0.045)",r="cubic-bezier(0.600, 0, 0.735, 0.045)";break;case"ease-in-circ":t="cubic-bezier(0.600, 0.040, 0.980, 0.335)",r="cubic-bezier(0.600, 0.040, 0.980, 0.335)";break;case"ease":t="ease";break;case"ease-in":t="ease-in";break;case"ease-in-out":t="ease-in-out";break;case"ease-out":t="ease-out"}r&&(t=r);for(var a=["-webkit-","-moz-","-o-",""],n=0;n<a.length;n++)i+=a[n]+"transition-timing-function:"+t+";";return i}(i.effectEasing),b=i.contentType,h=r.find(".swap-icons img"),(C=e(h)).parent().css({width:C.width(),height:C.height()}),l="overlay"==b?"all":"margin",f.css("float","none"),"caption"==b){if(0==t.find(".caption-wrap").length){var M=e("<div />").addClass("caption-wrap overlay");r.wrap(M)}n=t.find(".caption-wrap")}else n=t.find(".overlay");function H(e,t,r,a,n){var o,c,s=t||"all",u=i.effectDelay+"ms",p=s+" "+u;e.css({"-webkit-transition":p,"-moz-transition":p,"-o-transition":p,transition:p}),n&&(c=r,(o=e).attr("style",o.attr("style")+c))}n.add(r).css("display","block"),t.addClass(i.effectType);var A=!1;if(f.height()>0){A=!0;var I=g(f);t.css({width:I.width}),"overlay"==b&&H(r,l,d,i.effectDelay,!0)}f.load(function(){var a=g(e(this));t.css({width:a.width}),"overlay"==b&&r.css({"margin-top":0,"margin-left":Math.abs(a.width-r.outerWidth())/2}),"overlay"==b&&H(r,l,d,i.effectDelay)}),r.css({"background-color":function(e,t,i){if(-1==e.indexOf("#")||e.indexOf("rgb(")>-1||e.indexOf("rgba")>-1)return{rgba:e};var r;r=t?(t/100).toFixed(2):1,e=(e=function(e){var t=/rgb *\( *([0-9]{1,3}) *, *([0-9]{1,3}) *, *([0-9]{1,3}) *\)/.exec(e);if(t||(t=/rgba *\( *([0-9]{1,3}) *, *([0-9]{1,3}) *, *([0-9]{1,3}) *, *(0.+[0-9]) *\)/.exec(e)),!t)return e;if(5!=t.length)return e;var i=Math.round(parseFloat(t[1])),a=Math.round(parseFloat(t[2])),n=Math.round(parseFloat(t[3]));return t[4]&&(r=t[4]),"#"+(i+65536).toString(16).substring(3).toUpperCase()+(a+65536).toString(16).substring(3).toUpperCase()+(n+65536).toString(16).substring(3).toUpperCase()}(e)).replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,i,r){return t+t+i+i+r+r});var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);function n(e){var t=255*e;return Math.floor(t).toString(16)}if(void 0!==i&&a)switch(p){case!0:i.css("background-color","rgba("+[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)].join(",")+","+r+")");break;case!1:i.css({background:"transparent",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+n(r)+a[0].replace("#","")+",endColorstr=#"+n(r)+a[0].replace("#","")+");",zoom:1})}return a?{rgba:"rgba("+[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)].join(",")+","+r+")",fallback:n(r)+a[0].replace("#","")}:null}(i.overlayColor,i.overlayAlpha).rgba}),"overlay"==b&&H(n,"opacity",d,i.effectDelay,!0);var T,D,O={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return!!(O.Android()||O.BlackBerry()||O.iOS()||O.Opera()||O.Windows()||"ontouchstart"in document)}};if(Modernizr.touch=Modernizr.touch||O.any(),i.link&&(1==Modernizr.touch||t.bind("click.hoverfx",function(){"same"===i.openPage?window.location.assign(i.link):window.open(i.link,"_blank")})),"overlay"==b){t.unbind(".caption"),t.addClass("contentswap-overlay");var I=g(f);f.height()>0&&r.css({"margin-top":0,"margin-left":Math.abs(I.width-r.outerWidth())/2})}"caption"==b&&(t.addClass("caption"),"top"==i.direction?(A?n.css({"margin-top":-r.outerHeight()-1+"px",opacity:1}):setTimeout(function(){n.css({"margin-top":-r.outerHeight()-1+"px",opacity:1})},10),setTimeout(function(){n.insertBefore(f)},10)):setTimeout(function(){n.css({opacity:1})},10),"over"==i.captionType?("top"==i.direction?n.css({position:"absolute","z-index":9991}):n.css({"margin-top":"1px"}),H(n,"margin",d,i.effectDelay,!0),T=function(){n.css({"margin-top":-r.outerHeight()+"px"}),"top"==i.direction&&n.css("margin-top",0)},D=function(){n.css({"margin-top":"0px"}),"top"==i.direction&&n.css("margin-top",-r.outerHeight()+"px")}):(H(n,"margin",d,i.effectDelay,!0),H(f,"margin",d,i.effectDelay,!0),T=function(){var e;i.captionHeight<=r.outerHeight()&&("auto"==(e=i.captionHeight)&&"undefined"==e||r.css("height",parseInt(e)+"px")),"top"==i.direction&&"over"!=i.captionType?n.css({"margin-top":"0px"}):(n.css({"margin-top":-r.outerHeight()}),f.css({"margin-top":-r.outerHeight(),"margin-bottom":r.outerHeight()}))},D=function(){"top"==i.direction?n.css({"margin-top":-r.outerHeight()-1+"px"}):(n.css({"margin-top":"1px"}),f.css({"margin-top":"0px","margin-bottom":"0px"}))}));1==Modernizr.touch?(t.addClass("hover"),"caption"==b&&T()):"caption"==b&&t.bind("mouseenter.hoverfx",T).bind("mouseleave.hoverfx",D)})}()}}(jQuery);
